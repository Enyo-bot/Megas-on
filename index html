<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Admin - Editar Pacotes</title>
    <style>
        /* CSS básico */
        body { font-family: Arial, sans-serif; padding: 20px; }
        #login { max-width: 400px; margin: 0 auto; }
        #admin-panel { display: none; }
        .secao { margin-bottom: 30px; }
        .pacote-edit { border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; }
        input { margin: 5px 0; width: 100%; }
        button { margin-top: 10px; }
    </style>
</head>
<body>
    <div id="login">
        <h2>Login Admin</h2>
        <input type="email" id="email" placeholder="Digite seu email" required>
        <input type="password" id="senha" placeholder="Senha" required>
        <button onclick="logar()">Entrar</button>
    </div>

    <div id="admin-panel">
        <h2>Painel Admin - Editar Pacotes</h2>
        <button onclick="logout()">Sair</button>
        
        <div class="secao">
            <h3>Pacotes Diários</h3>
            <div id="edit-diarios"></div>
            <h4>Adicionar Novo Pacote Diário</h4>
            <input type="text" id="new-diario-gb" placeholder="Título GB (ex: 1 GB)">
            <input type="text" id="new-diario-mb" placeholder="MB (ex: 1024 MB)">
            <input type="text" id="new-diario-valid" placeholder="Validade (ex: 24 horas)" value="24 horas">
            <input type="text" id="new-diario-preco" placeholder="Preço (ex: 20 MT)">
            <button onclick="addPacote('diarios')">Adicionar</button>
        </div>
        
        <div class="secao">
            <h3>Pacotes Mensais</h3>
            <div id="edit-mensais"></div>
            <h4>Adicionar Novo Pacote Mensal</h4>
            <input type="text" id="new-mensal-gb" placeholder="Título GB (ex: 5 GB)">
            <input type="text" id="new-mensal-mb" placeholder="MB (ex: 5120 MB)">
            <input type="text" id="new-mensal-valid" placeholder="Validade (ex: 30 dias)" value="30 dias">
            <input type="text" id="new-mensal-preco" placeholder="Preço (ex: 170 MT)">
            <button onclick="addPacote('mensais')">Adicionar</button>
        </div>
    </div>

    <script>
        // Senha hardcoded para demo (mude para algo seguro)
        const senhaAdmin = 'admin123';
        const emailAdmin = 'admin@example.com'; // Mude para o email desejado

        function logar() {
            const email = document.getElementById('email').value;
            const senha = document.getElementById('senha').value;
            if (email === emailAdmin && senha === senhaAdmin) {
                document.getElementById('login').style.display = 'none';
                document.getElementById('admin-panel').style.display = 'block';
                carregarPacotesAdmin();
            } else {
                alert('Email ou senha incorretos');
            }
        }

        function logout() {
            document.getElementById('login').style.display = 'block';
            document.getElementById('admin-panel').style.display = 'none';
        }

        function carregarPacotesAdmin() {
            const pacotes = JSON.parse(localStorage.getItem('pacotes')) || { diarios: [], mensais: [] };
            renderEdit('diarios', pacotes.diarios);
            renderEdit('mensais', pacotes.mensais);
        }

        function renderEdit(tipo, lista) {
            const container = document.getElementById(`edit-${tipo}`);
            container.innerHTML = '';
            lista.forEach((pacote, index) => {
                const div = document.createElement('div');
                div.classList.add('pacote-edit');
                div.innerHTML = `
                    <input type="text" value="${pacote.gb}" id="${tipo}-gb-${index}">
                    <input type="text" value="${pacote.mb}" id="${tipo}-mb-${index}">
                    <input type="text" value="${pacote.valid}" id="${tipo}-valid-${index}">
                    <input type="text" value="${pacote.preco}" id="${tipo}-preco-${index}">
                    <button onclick="salvarPacote('${tipo}', ${index})">Salvar</button>
                    <button onclick="deletarPacote('${tipo}', ${index})">Deletar</button>
                `;
                container.appendChild(div);
            });
        }

        function salvarPacote(tipo, index) {
            const pacotes = JSON.parse(localStorage.getItem('pacotes'));
            pacotes[tipo][index] = {
                gb: document.getElementById(`${tipo}-gb-${index}`).value,
                mb: document.getElementById(`${tipo}-mb-${index}`).value,
                valid: document.getElementById(`${tipo}-valid-${index}`).value,
                preco: document.getElementById(`${tipo}-preco-${index}`).value
            };
            localStorage.setItem('pacotes', JSON.stringify(pacotes));
            alert('Pacote salvo!');
            carregarPacotesAdmin();
        }

        function deletarPacote(tipo, index) {
            const pacotes = JSON.parse(localStorage.getItem('pacotes'));
            pacotes[tipo].splice(index, 1);
            localStorage.setItem('pacotes', JSON.stringify(pacotes));
            carregarPacotesAdmin();
        }

        function addPacote(tipo) {
            const pacotes = JSON.parse(localStorage.getItem('pacotes'));
            const newPacote = {
                gb: document.getElementById(`new-${tipo}-gb`).value,
                mb: document.getElementById(`new-${tipo}-mb`).value,
                valid: document.getElementById(`new-${tipo}-valid`).value,
                preco: document.getElementById(`new-${tipo}-preco`).value
            };
            if (newPacote.gb && newPacote.mb && newPacote.valid && newPacote.preco) {
                pacotes[tipo].push(newPacote);
                localStorage.setItem('pacotes', JSON.stringify(pacotes));
                carregarPacotesAdmin();
                // Limpar campos
                document.getElementById(`new-${tipo}-gb`).value = '';
                document.getElementById(`new-${tipo}-mb`).value = '';
                document.getElementById(`new-${tipo}-valid`).value = tipo === 'diarios' ? '24 horas' : '30 dias';
                document.getElementById(`new-${tipo}-preco`).value = '';
            } else {
                alert('Preencha todos os campos!');
            }
        }
    </script>
</body>
</html>
